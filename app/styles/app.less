@import "layouts.less";
@import "/vendor/eonasdan-bootstrap-datetimepicker/src/less/bootstrap-datetimepicker.less";
@import "/vendor/typeahead.js-bootstrap3.less/typeahead.less";
@import "/vendor/seiyria-bootstrap-slider/less/bootstrap-slider.less";

@font-face {
  font-family: 'subledger';
  src:url('/fonts/subledger.eot?-xpbx2a');
  src:url('/fonts/subledger.eot?#iefix-xpbx2a') format('embedded-opentype'),
    url('/fonts/subledger.woff?-xpbx2a') format('woff'),
    url('/fonts/subledger.ttf?-xpbx2a') format('truetype'),
    url('/fonts/subledger.svg?-xpbx2a#subledger') format('svg');
  font-weight: normal;
  font-style: normal;
}

[class^="sl-"], [class*=" sl-"] {
  font-family: 'subledger';
  speak: none;
  font-style: normal;
  font-weight: normal;
  font-variant: normal;
  text-transform: none;
  line-height: 1;

  /* Better Font Rendering =========== */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.sl-entry:before {
  content: "\e604";
}
.sl-gears:before {
  content: "\e600";
}
.sl-entries:before {
  content: "\e601";
}
.sl-refresh:before {
  content: "\e602";
}
.sl-chart:before {
  content: "\e603";
}

html {
  height: 100%;
  overflow: hidden;
}

body {
  height: 100%;
  overflow: hidden;
  padding-top: 50px;
  padding-bottom: 60px;
}

.container-fluid {
  height: 100%;
}

.full-height {
  height: 100%;
}

.clickable {
  cursor: pointer;
}

.text-bold {
  font-weight: bold;
}

.link-back {
  margin: 0 0 @default-margin @default-margin;
}

.app {
  height: 100%;
  overflow: hidden;
}

.app-menu {
  &:extend(.navbar all);
  &:extend(.navbar-default all);
  &:extend(.navbar-fixed-top all);

  &> div {
    &:extend(.container-fluid all);
  }

  .app-menu-header {
    &:extend(.navbar-header all);

    &> a.brand {
      &:extend(.navbar-brand all);

      padding: 16.5px 15px 16.5px 0;

      &> img {
        width: 173px;
        height: 21px;

        @media (max-width: @screen-xs-max) {
          width: 120px;
          height: initial;
        }
      }

      &> span {
        &:extend(.label all);
        &:extend(.label-info all);

        margin-left: 5px;
        font-weight: initial;
      }
    }
  }

  .app-menu-links {
    &> ul {
      &:extend(.navbar-right all);

      &> li {
        select.form-control {
          margin: 15px 8px;
        }

        a {
          color: @less-white;          
          line-height: 51px;
          padding: 0 0 0 15px;
          text-shadow: black 0 1px;

          .glyphicon {
            font-size: 1.6em;
            margin-right: 10px;
            
            top: 5px;
            position: relative;

            text-shadow: none;
          }

          &:hover {
            text-decoration: underline;

            .glyphicon {
              text-decoration: none;
            }
          }
        }
      }

      &:last-child {
        margin-right: 0;
      }
    }

    .separator {
      margin-left: 15px;

      .shadow {
        margin-right: -3px;
        vertical-align: bottom;
      }
    }    
  }

  .navbar-toggle {
    .icon-bar {
      background-color: @less-white;
    }
  }
}

.app-body {
  &:extend(.container-fluid all);

  .app-all-content {
    .make-row();

    height: 100%;  

    .app-main-nav {
      .make-sm-column(3);
      .make-md-column(2);
      .make-lg-column(2);
      &:extend(.hidden-xs all);

      padding-top: @default-padding;
      padding-left: 0;
      padding-right: 0;

      &> ul {
        &:extend(.nav all);
        &:extend(.nav-sidebar all);

        &> li {
          .box-shadow(0 1px 1px 0 @white);
          border-bottom: 1px solid @default-border-color;

          &:first-child {
            padding-left: @default-padding;
            padding-right: @default-padding;
            padding-bottom: @default-padding;
          }

          &.nav-link {
            cursor: pointer;
            color: #5e5e5e;
            font-weight: 700;
            font-family: 'PT Sans', sans-serif;
            line-height: 42px;
            padding: 0 0 0 @default-padding;
            text-shadow: @white 0 1px;
            
            img.right {
              float: right;
              margin-right: -20px;
              position: initial;
              .transition(margin-right .4s);
            }

            .glyphicon {
              font-size: 1.6em;
              margin-right: 10px;
              
              top: 5px;
              position: relative;

              text-shadow: none;
            }

            &:hover {
              color: #1b6f8b;
              text-decoration: underline;
              background-color: @background-color-selected;

              img.right {
                margin-right: -1px;
              }
            }

            &.active {
              color: #1b6f8b;
              background-color: @background-color-selected;

              img.right {
                z-index: 1000;
                margin-right: -1px;
                position: relative;
              }
            }
          }
        }
      }
    }

    .app-main-content {
      .make-sm-column(9);
      .make-md-column(10);
      .make-lg-column(10);

      height: 100%;
      padding: 0;
      overflow-y: hidden;
      background-image: @background;
      border: 1px solid @default-border-color;
      .box-shadow(@default-box-shadow);
    }

    .app-clean {
      height: 100%;
      padding: 10px;
      overflow: hidden;
    }  
  }  
}

.app-footer {
  &:extend(.navbar all);
  &:extend(.navbar-default all);
  &:extend(.navbar-fixed-bottom all);

  border-top: 0;
  line-height: 20px;
  background-color: transparent;

  &> div {
    &:extend(.container-fluid all);
  }

  ul {
    &:extend(.nav all);
    &:extend(.navbar-nav all);
    &:extend(.hidden-xs all);

    &> li > a {
      font-weight: bold;
      color: @gray-dark;
      text-shadow: @white-text-shadow;

      &:hover {
        text-decoration: underline;
      }      
    }
  }

  p {
    &:extend(.navbar-text all);
    &:extend(.navbar-right all);

    &> a {
      font-weight: bold;
      color: @gray-dark;
      text-shadow: @white-text-shadow;      
    }
  }
}

.login-container {
  height: 100%;
  overflow-x: hidden;
  overflow-y: auto;
}

.login {
  margin-top: 0;

  .decimal-places {
    margin-top: @default-margin * 2;
    margin-bottom: @default-margin * 2;

    .slider {
      width: 100%;
    }
  }

  .example {
    margin: 15px 0 0 0;
  }

  @media (min-width: @screen-xs-max) {
    margin-top: 60px;
  }
}

.items-actions {
  text-align: right;
  margin: 22px 17px;

  .action {
    .action-text {
      font-weight: bold;
      margin-right: 13px;
    }
  }
}

.settings {
  .app-layout-content-only();
}

.totals {
  padding-top: 15px;
  padding-bottom: 15px;
  margin-top: 10px;
  text-shadow: @white-text-shadow;
  background-image: @background-brown;
}

.currency {
  text-align: right;
}

.scrollable-dropdown-menu .tt-dropdown-menu {
  max-height: 150px;
  overflow-y: auto;
}

.report {
  margin-right: @default-margin;
  text-transform: uppercase;

  .panel-body {
    padding: 22px 10px 26px 12px;

    .inputs {
      padding-right: 0;

      .input-group-addon {
        border-radius: 0;
        border-right: 0; 
      }
    }

    .actions {
      padding-left: 0;

      button {
        border-left: 0;
        margin: 0;
        margin-left: -2px;
        border-radius: 0 4px 4px 0;
      }
    }
  }

  .form-group {
    margin-bottom: 0;
  }

  .progress {
    height: 5px;
    margin-top: 12px;
    margin-bottom: 0;
  }
}

.report-rendering {
  height: 99%;
  overflow-y: auto;
  margin: @default-margin 0;

  .row {
    margin-left: 0;
    margin-right: 0;
  }

  ul {
    padding-left: 0;
    margin: 0 @default-margin;
    list-style-type: none;

    background-image: @background-light;
  }

  &> ul {
    padding-bottom: @default-padding;

    &> li {
      padding: 0 @default-padding;
    }
  }
}

.report-rendering-category {  
  .category-info {
    padding: @default-padding 0;
    border-bottom: 1px dotted @default-border-color;

    .glyphicon {
      opacity: 0;
    }

    .description {
      font-weight: bold;
      text-shadow: @white-text-shadow;
    }

    .balance {
      font-weight: bold;
      text-shadow: @white-text-shadow;
      padding-right: 5px;
    }

    &:hover {
      cursor: pointer;
      border-bottom: 1px solid @brand-info;

      .glyphicon {
        opacity: 100;
        .transition(opacity 0.5s);
      }
    }
  }

  ul {
    margin: 0;
    padding-left: @default-padding * 2;
  }

  .accounts {
    display: none;
    padding-left: 15px;
    margin-top: @default-margin;

    table {
      margin-bottom: 0;

      .account-description {
        overflow: hidden;
      }

      .account-balance {
        width: 175px;
        padding-right: 5px;
        text-align: right;
      }
    }

    p {
      font-style: italic;
    }
  }

  li:last-child div.category-info {
    border-bottom: 0;
  }
}

.manual-journal-entry {
  padding: @default-padding;
  height: 100%;
  overflow-y: scroll;

  .form-group {
    margin-bottom: 5px;
  }

  .panel {
    margin-bottom: 0;
  }

  .separator {
    margin-top: 15px;
    margin-bottom: 20px;
    border-bottom: 1px dashed @default-border-color;
  }

  #lines {
    .line {
      &:nth-of-type(n+2) {
        margin-top: 10px;
        padding-top: 15px;
        border-top: 1px dotted @default-border-color;
      }

      input.synch {
        font-style: italic;
        background-color: @gray-lighter;
      }

      .currency-container {

        input:not([disabled]).currency {
          color: @white;
          .placeholder(@white);
        }

        &.match {
          .has-success;

          input.currency {
            background-color: lighten(@brand-success, 10%);
          }
        }

        &.no-match {
          .has-error;  

          input.currency {
            background-color: lighten(@brand-danger, 10%);
          }
        }
      }

      p.zero-line-value {
        margin: 9px 0 10px 0;
      }

      .actions {
        margin-top: 10px;
        .opacity(0);
        .transition(all .4s);
      }

      &:hover {
        .actions {
          .opacity(100);
        }
      }
    }
  }

  .postProgress {
    width: 100%;
    margin-top: 7px;

    .progress {
      margin-bottom: 0;
    }
  }
}

.journal-entries {
  height: 100%;
  overflow: hidden;

  .index {
    .app-layout-header-only();

    &> aside {
      &:extend(.panel all);
      &:extend(.panel-default all);

      text-shadow: @white-text-shadow;
      background-image: @background-brown;

      .box-shadow-highlight;

      &> div {
        &:extend(.panel-body all);
        padding: @default-list-entry-padding;

        &> div {
          .make-row();

          font-size: 1.1em;
          font-weight: bold;
          line-height: 30px;

          &> div:nth-of-type(1) {
            .make-xs-column(3);
            .make-md-column(2);             
          }

          &> div:nth-of-type(2) {
            .make-xs-column(6);
            .make-md-column(9);
          }

          &> div:nth-of-type(3) {
            .make-xs-column(3);
            .make-md-column(1);

            .dropdown-menu {
              min-width: initial;

              .btn-link {
                color: @text-color;
                text-decoration: none;
              }
            }
          }
        }
      }
    }

    .infinite-scroll {
      .loading-older, .loading-newer {
        padding: 10px 0;
      }

      .no-results {
        margin: 10px;
      }
    }
  }
}

.reports {
  height: 100%;
  overflow: hidden;

  .index {
    .app-layout-header-rightnav();

    .items {
      .item {
        .box-shadow-highlight();

        .description {
          overflow-x: hidden;
        }

        .panel-body {
          padding: @default-list-entry-padding;
        }

        &:last-of-type {
          margin-bottom: 0;
        }
      }
    }
  }
}

.accounts {
  height: 100%;
  overflow: hidden;

  .index {
    .app-layout-header-rightnav();

    .items {
      .item {
        .box-shadow-highlight();

        .description {
          overflow-x: hidden;
        }

        .balance {
          overflow-x: hidden;
        }        

        .panel-body {
          padding: @default-list-entry-padding;
        }

        &:last-of-type {
          margin-bottom: 0;
        }
      }
    }
  }
}

.account {
  height: 100%;
  overflow: hidden;

  .account-lines {
    .app-layout-panel-with-header-and-table();

    &> header h3 a {
      position: relative;
      top: -10px;
    }

    .lines {
      .date {
        width: 140px;
      }

      .description {
        width: 100%;
      }

      .reference, .je {
        width: 30px;
        text-align: center;
      }

      .debit, .credit, .balance {
        width: 100px;
        text-align: right;
      }

      @media (max-width: @screen-xs-max) {
        .date {
          width: 70px;
        }

        .debit, .credit {
          width: 70px;
        }

        .balance {
          display: none;
        }
      }
    }
  }

  .account-chart {
    .app-layout-panel-with-body-only();
    .scrollable(auto, 92%, 96%, 96%, 96%, 97%, 97%, 97%);

    background-color: @white;
    background-image: none;
  }
}

.journal-entry {
  .app-layout-collapsive-panel();

  &.collapsed {
    section.table {
      .acc  {
        width: 120px;
      }

      .debit, .credit {
        width: 80px;
        text-align: right;
      }

      .reference {
        width: 30px;
        text-align: center;
      }

      @media (max-width: @screen-xs-max) {
        .description {
          display: none;
        }

        .acc {
          width: 100%;
        }
      }
    }
  }
}